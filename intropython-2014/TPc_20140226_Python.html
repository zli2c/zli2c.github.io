<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<!-- Begin header --><title>Zhentao Li's Homepage</title>






    
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta http-equiv="imagetoolbar" content="no">
    <link rel="stylesheet" type="text/css" href="css/greenStyle.css">
</head><body>

<div id="page">
<a name="top"></a>

<div id="header">
<div class="begin_frame"></div> 
  <h1>Zhentao Li's Homepage</h1>
  <h2>Initiation à la programmation en Python</h2>
  <h2>Cours 2 - Correction</h2>
<div class="end_frame"></div>
</div>


<div id="main">
<div class="begin_main"></div>

<!-- End header -->

<p></p>


<div class="frame">
<div class="begin_frame"></div>
<h2>Cours</h2>

Les transparents du deuxième cours sont disponibles <a href="CM_20130220_Python.pdf">ici</a>.

<a class="top" href="#top">top</a>
<div class="end_frame"></div>
</div>


<div class="frame">
<div class="begin_frame"></div>
<h2>Exercice - La crypto c'est rigolo</h2>

<ol>
<li><b>Cryptographie</b>
<ol>
<li>
<p>Dans un interpréteur Python créez la chaîne de caractères <tt>message</tt> contenant la valeur
<tt>'ceci est mon message a chiffrer'</tt>. A l'aide d'une boucle <tt>for</tt> sur cette chaîne, chiffrer la
par un décalage de 3 (chiffre de César). Par exemple la lettre <tt>a</tt> sera chiffrée en la lettre
<tt>d</tt> (et la lettre <tt>x</tt> en la lettre <tt>a</tt>).</p>
</li>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">message</span> <span class="o">=</span> <span class="s">&#39;ceci est mon message a chiffrer&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">decalage</span><span class="p">(</span><span class="n">caractere</span><span class="p">,</span> <span class="n">valeur</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">indice</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">caractere</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">nouvel_indice</span> <span class="o">=</span> <span class="p">(</span><span class="n">indice</span> <span class="o">+</span> <span class="n">valeur</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">nouvel_indice</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chiffre</span><span class="o">=</span><span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">message</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
<span class="gp">... </span>        <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">decalage</span><span class="p">(</span><span class="n">lettre</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">lettre</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">chiffre</span>
<span class="go">fhfl hvw prq phvvdjh d fkliiuhu</span>
</pre></div>

<li>
<p>
&Eacute;crire un script Python qui chiffre (ou déchiffre selon le choix de l'utilisateur) une chaîne de caractères entrée au 
clavier avec une clé (<i>i.e.</i>un décalage) choisi aussi par l'utilisateur. On définira les fonctions <tt>chiffrer</tt> et 
<tt>dechiffrer</tt>.
</p>
<div class="highlight"><pre><span class="c">#!/usr/bin/python</span>

<span class="k">def</span> <span class="nf">decalage</span><span class="p">(</span><span class="n">caractere</span><span class="p">,</span> <span class="n">valeur</span><span class="p">):</span>
    <span class="n">indice</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">caractere</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
    <span class="n">nouvel_indice</span> <span class="o">=</span> <span class="p">(</span><span class="n">indice</span> <span class="o">+</span> <span class="n">valeur</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span>
    <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">nouvel_indice</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">chiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">):</span>
    <span class="n">chiffre</span><span class="o">=</span><span class="s">&#39;&#39;</span>

    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">decalage</span><span class="p">(</span><span class="n">lettre</span><span class="p">,</span> <span class="n">cle</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">lettre</span>
    <span class="k">return</span> <span class="n">chiffre</span>

<span class="k">def</span> <span class="nf">dechiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">chiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="mi">26</span><span class="o">-</span><span class="n">cle</span><span class="p">)</span>

<span class="n">message</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le texte a chiffrer/dechiffrer : &quot;</span><span class="p">)</span>
<span class="n">cle</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le decalage (0 a 26) : &quot;</span><span class="p">))</span>
<span class="n">operation</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer &#39;c&#39; pour chiffrer ou &#39;d&#39; pour dechiffrer : &quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s">&#39;c&#39;</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">chiffrer</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">cle</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">operation</span> <span class="o">==</span> <span class="s">&#39;d&#39;</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">dechiffrer</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">cle</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s">&quot;Operation &#39;</span><span class="si">%s</span><span class="s">&#39; inconnue&quot;</span> <span class="o">%</span> <span class="n">operation</span><span class="p">)</span>
</pre></div>

<li>
<p>Modifier le script précédent pour qu'il utilise la méthode de chiffrement de Vigenère : la clé est désormais une chaîne de caractères et 
le chiffrement se fait en décalant la i-ème lettre du message gràce à la i-ème lettre de la clé (on reprend au début de la clef quand 
on a fini de lire celle-ci) suivant la règle naturelle A=1,B=2,...,Z=26(=0).</p>
</li>

<div class="highlight"><pre><span class="c">#!/usr/bin/python</span>

<span class="k">def</span> <span class="nf">decalage</span><span class="p">(</span><span class="n">caractere</span><span class="p">,</span> <span class="n">valeur</span><span class="p">):</span>
    <span class="n">indice</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">caractere</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
    <span class="n">nouvel_indice</span> <span class="o">=</span> <span class="p">(</span><span class="n">indice</span> <span class="o">+</span> <span class="n">valeur</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span>
    <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">nouvel_indice</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">chiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
    <span class="n">chiffre</span><span class="o">=</span><span class="s">&#39;&#39;</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">clei</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">cle</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s">&#39;d&#39;</span><span class="p">:</span>
                <span class="n">clei</span> <span class="o">=</span> <span class="mi">26</span> <span class="o">-</span> <span class="n">clei</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">decalage</span><span class="p">(</span><span class="n">lettre</span><span class="p">,</span> <span class="n">clei</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">lettre</span>
        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">cle</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">chiffre</span>

<span class="k">def</span> <span class="nf">alpha</span><span class="p">(</span><span class="n">cle</span><span class="p">):</span>
    <span class="n">cle_alpha</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">cle</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">cle_alpha</span> <span class="o">+=</span> <span class="n">lettre</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cle_alpha</span>

<span class="n">message</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le texte a chiffrer/dechiffrer : &quot;</span><span class="p">)</span>
<span class="n">cle</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer la cle : &quot;</span><span class="p">)</span>
<span class="n">operation</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer &#39;c&#39; pour chiffrer ou &#39;d&#39; pour dechiffrer : &quot;</span><span class="p">)</span>

<span class="n">cle_alpha</span> <span class="o">=</span> <span class="n">alpha</span><span class="p">(</span><span class="n">cle</span><span class="p">)</span>

<span class="k">print</span> <span class="n">chiffrer</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">cle_alpha</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>
</pre></div>

<li>
<p>
Modifier le script précédent pour qu'il chiffre/déchiffre un fichier dont le chemin est entré par l'utilisateur. On pourra utiliser cette <a href="Poe.txt">nouvelle</a> 
de Edgar Poe pour tester le script.
</p>

Pour obtenir le contenu d'un fichier a partir de son nom, vous pouvez utiliser. Nous verrons plus en détail les fonctions reliés aux fichiers au prochain cours.
<div class="highlight"><pre><span class="n">nom_fichier</span> <span class="o">=</span> <span class="s">&quot;Poe.txt&quot;</span>
<span class="n">contenu_fichier</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">nom_fichier</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

</li>

<div class="highlight"><pre><span class="c">#!/usr/bin/python</span>

<span class="k">def</span> <span class="nf">decalage</span><span class="p">(</span><span class="n">caractere</span><span class="p">,</span> <span class="n">valeur</span><span class="p">):</span>
    <span class="n">indice</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">caractere</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
    <span class="n">nouvel_indice</span> <span class="o">=</span> <span class="p">(</span><span class="n">indice</span> <span class="o">+</span> <span class="n">valeur</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span>
    <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">nouvel_indice</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">chiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
    <span class="n">chiffre</span><span class="o">=</span><span class="s">&#39;&#39;</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">clei</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">cle</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s">&#39;d&#39;</span><span class="p">:</span>
                <span class="n">clei</span> <span class="o">=</span> <span class="mi">26</span> <span class="o">-</span> <span class="n">clei</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">decalage</span><span class="p">(</span><span class="n">lettre</span><span class="p">,</span> <span class="n">clei</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">lettre</span>
        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">cle</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">chiffre</span>

<span class="k">def</span> <span class="nf">alpha</span><span class="p">(</span><span class="n">cle</span><span class="p">):</span>
    <span class="n">cle_alpha</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">cle</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">cle_alpha</span> <span class="o">+=</span> <span class="n">lettre</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cle_alpha</span>

<span class="n">message</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le texte a chiffrer/dechiffrer : &quot;</span><span class="p">)</span>
<span class="n">nom_fichier</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le nom du fichier cle : &quot;</span><span class="p">)</span>
<span class="n">cle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">nom_fichier</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">operation</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer &#39;c&#39; pour chiffrer ou &#39;d&#39; pour dechiffrer : &quot;</span><span class="p">)</span>

<span class="n">cle_alpha</span> <span class="o">=</span> <span class="n">alpha</span><span class="p">(</span><span class="n">cle</span><span class="p">)</span>

<span class="k">print</span> <span class="n">chiffrer</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">cle_alpha</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>
</pre></div>

</ol>
</li>
<li><p><b>Cryptanalyse</b></p>
<p>Comme expliqué dans la nouvelle de E. Poe, les chiffrements par substitution alphabétique peuvent être <i>casser</i> facilement par une analyse fréquentielle. 
Par exemple,  dans un texte écrit en langue française, la lettre la plus fréquente est généralement le "E" et puisqu'un chiffrement de César ne modifie pas les 
fréquences, la lettre qui apparaît le plus fréquemment dans le texte chiffré correspond vraisemblablement à "E" et si c'est le cas le décalage entre les deux lettres 
donne la clé et permet de retrouver l'intégralité du message clair.
</p>
<ol>
<li><p>&Eacute;crire une fonction Python qui prenant en entrée une chaîne de caractères (ou un fichier texte) affiche la fréquence des caractères qui le composent.</p></li>

<li><p>Modifier le programme précédent pour qu'il affiche la lettre qui apparaît le plus de fois.</p></li>

<div class="highlight"><pre><span class="n">nom_fichier</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le nom du fichier : &quot;</span><span class="p">)</span>
<span class="n">texte</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">nom_fichier</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">compteur</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span>

<span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
        <span class="n">compteur</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">lettre</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">indice_max</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">indice</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;&#39;</span><span class="si">%s</span><span class="s">&#39; apparait </span><span class="si">%s</span><span class="s"> fois&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="n">indice</span><span class="o">+</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)),</span> <span class="n">compteur</span><span class="p">[</span><span class="n">indice</span><span class="p">])</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">compteur</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">compteur</span><span class="p">[</span><span class="n">indice_max</span><span class="p">]):</span> 
        <span class="n">indice_max</span> <span class="o">=</span> <span class="n">indice</span>

<span class="k">print</span> <span class="s">&quot;&#39;</span><span class="si">%s</span><span class="s">&#39; apparait le plus de fois&quot;</span> <span class="o">%</span> <span class="nb">chr</span><span class="p">(</span><span class="n">indice_max</span><span class="o">+</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
</pre></div>

<li><p>Utiliser cette fonction pour créer une fonction qui prend en entrée un texte chiffré avec le chiffrement de César (mais pas la clé) et retourne un texte 
clair associé. On pourra demander à l'utilisateur de valider que ce texte est correct (et si ce n'est pas le cas proposer un nouveau texte clair probable).</p></li>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">decalage</span><span class="p">(</span><span class="n">caractere</span><span class="p">,</span> <span class="n">valeur</span><span class="p">):</span>
    <span class="n">indice</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">caractere</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
    <span class="n">nouvel_indice</span> <span class="o">=</span> <span class="p">(</span><span class="n">indice</span> <span class="o">+</span> <span class="n">valeur</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span>
    <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">nouvel_indice</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">chiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">):</span>
    <span class="n">chiffre</span><span class="o">=</span><span class="s">&#39;&#39;</span>

    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">decalage</span><span class="p">(</span><span class="n">lettre</span><span class="p">,</span> <span class="n">cle</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chiffre</span> <span class="o">=</span> <span class="n">chiffre</span> <span class="o">+</span> <span class="n">lettre</span>
    <span class="k">return</span> <span class="n">chiffre</span>

<span class="k">def</span> <span class="nf">dechiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">chiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="mi">26</span><span class="o">-</span><span class="n">cle</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">compte_lettres</span><span class="p">(</span><span class="n">texte</span><span class="p">):</span>
    <span class="n">compteur</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span>
    <span class="k">for</span> <span class="n">lettre</span> <span class="ow">in</span> <span class="n">texte</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">lettre</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="n">compteur</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">lettre</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">indice_max</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">indice</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">compteur</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">compteur</span><span class="p">[</span><span class="n">indice_max</span><span class="p">]):</span> 
            <span class="n">indice_max</span> <span class="o">=</span> <span class="n">indice</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">compteur</span><span class="p">,</span> <span class="n">indice_max</span><span class="p">)</span>

<span class="n">nom_fichier</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Entrer le nom du fichier : &quot;</span><span class="p">)</span>
<span class="n">texte</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">nom_fichier</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">compteur</span><span class="p">,</span> <span class="n">indice_max</span> <span class="o">=</span> <span class="n">compte_lettres</span><span class="p">(</span><span class="n">texte</span><span class="p">)</span>

<span class="n">indice_e</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">for</span> <span class="n">indice</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">indice_max</span><span class="p">,</span> <span class="mi">26</span><span class="p">)</span> <span class="o">+</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">indice_max</span><span class="p">):</span>
    <span class="n">cle</span> <span class="o">=</span> <span class="p">(</span><span class="n">indice</span> <span class="o">-</span> <span class="n">indice_e</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span>
    <span class="k">print</span> <span class="n">dechiffrer</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="n">cle</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&quot;Cle : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cle</span>
    <span class="n">verification</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Est-ce que ce texte semble etre le texte decrypte? Entrer &#39;o&#39;ui ou &#39;n&#39;on : &quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">verification</span> <span class="o">==</span> <span class="s">&quot;o&quot;</span> <span class="ow">or</span> <span class="n">verification</span> <span class="o">==</span> <span class="s">&#39;oui&#39;</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>

Exemple de lancement, supposant que nous avons écrit un message chiffré dans le fichier <code>chiffre</code>.

<div class="highlight"><pre><span class="nv">$ </span>cat chiffre
fhfl hvw xq phvvdjh d fkliiuhu
<span class="nv">$ </span>python dechiffreur-auto.py
Entrer le nom du fichier : chiffre
ceci est un message a chiffrer

Cle : 3
Est-ce que ce texte semble etre le texte decrypte? Entrer <span class="s1">&#39;o&#39;</span>ui ou <span class="s1">&#39;n&#39;</span>on : o
</pre></div>

<li>
<p>**L'encyclopédie Wikipedia propose un article expliquant une méthode de cryptanalyse du <a href="http://fr.wikipedia.org/wiki/Cryptanalyse_du_chiffre_de_Vigen%C3%A8re">chiffrement de Vigenère</a> 
reposant sur les mêmes principes. &Eacute;crire une fonction Python qui prend un entrée un texte chiffré avec le chiffrement de Vigenère (mais pas la clé) et retourne un texte 
clair associé possible.</p>
</li>
</ol>
</li>
<a class="top" href="#top">top</a>
<div class="end_frame"></div>
</div>





<!-- Begin footer -->


<div class="end_main"></div>
</div> <!-- end main div -->

<div class="hr"></div>


</div> <!-- end page div -->

</body></html>
